---
import Image from 'astro/components/Image.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Head from './Head.astro';

// Images
import lineTopRight from '../../public/line_topright.svg';
import lineCenter1 from '../../public/line_center1.svg';
import lineCenter2 from '../../public/line_center2.svg';
import lineMiddleLeft from '../../public/line_middle_left.svg';
import lineMiddleRight from '../../public/line_middle_right.svg';
import lineBottom1 from '../../public/line_bottom1.svg';

interface Props {
	title: string;
}

const { title } = Astro.props;

const navLinks = ["", "Projects", "About"];
const footerLinks = [...navLinks, "Contact"];
---

<!doctype html>
<html lang="en">
	<Head {title} />
	<body>
		<Image class="line line-topright" src={lineTopRight} alt="" width={286} height={270} loading="eager" />

		<Navbar links={navLinks}/>
		
		<Image class="line line-center1" src={lineCenter1} alt="" width={1556} height={388} loading="eager" />
		<Image class="line line-center2" src={lineCenter2} alt="" width={1492} height={153} loading="eager" />
		<Image class="line line-middle-left" src={lineMiddleLeft} alt="" width={132} height={608} loading="eager" />
		<Image class="line line-middle-right" src={lineMiddleRight} alt="" width={218} height={280} loading="eager" />
		<Image class="line line-bottom1" src={lineBottom1} alt="" width={1492} height={153} loading="lazy" />

		<slot />

		<Footer links={footerLinks}/>	
	</body>
</html>

<style is:global>
	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Thin.woff2') format('woff2');
		font-weight: 100;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-ExtraLight.woff2') format('woff2');
		font-weight: 200;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Light.woff2') format('woff2');
		font-weight: 300;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Regular.woff2') format('woff2');
		font-weight: 400;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Medium.woff2') format('woff2');
		font-weight: 500;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-SemiBold.woff2') format('woff2');
		font-weight: 600;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Bold.woff2') format('woff2');
		font-weight: 700;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-ExtraBold.woff2') format('woff2');
		font-weight: 800;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Black.woff2') format('woff2');
		font-weight: 900;
		font-style: normal;
		font-display: swap;
	}

	:root {
		--light-blue: 59, 148, 255;
		--light-blue-navbar: 100, 170, 255;
		--very-light-blue: 158, 181, 210;

		--very-dark-blue: 0, 12, 26;
		--very-dark-blue-light: 0, 23, 51;
		--very-dark-blue-lightest: 0, 28, 61;

		--bg-blue-gradient: linear-gradient(
			180deg,
			rgb(var(--very-dark-blue)) 0%,
			rgb(var(--very-dark-blue)) 12%,
			rgb(var(--very-dark-blue-light)) 50%,
			rgb(var(--very-dark-blue-lightest)) 100%
		);
	}
	
	*, *::before, *::after {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}
	html {
		font-family: system-ui, sans-serif;
	}
	body {
		width: 100%;
		min-height: 100vh;
		padding: 2.25em 0;
		position: relative;
		font: 400 1rem/1.5 "Poppins", sans-serif;
		color: hsl(180, 0%, 95%);
		background: rgb(var(--very-dark-blue)) var(--bg-blue-gradient);
		overflow-x: hidden; 
	}

	/* Background Lines */
	.line {
		position: absolute;
		z-index: -1;
	}

	.line-topright {
		top: 0;
		right: 0;
		z-index: 0;
	}

	.line-center1,
	.line-center2,
	.line-bottom1 {
		width: 100%;
	}

	.line-center1 { top: 14em; }
	.line-center2 { top: 21.5em; }
	.line-bottom1 { bottom: 14em; }

	.line-middle-left,
	.line-middle-right {
		height: 90%;
	}

	.line-middle-left { left: 0; }
	.line-middle-right { right: 0; }

	/* lenis scroll */
	html.lenis, html.lenis body {
	height: auto;
	}

	.lenis.lenis-smooth {
	scroll-behavior: auto !important;
	}

	.lenis.lenis-smooth [data-lenis-prevent] {
	overscroll-behavior: contain;
	}

	.lenis.lenis-stopped {
	overflow: hidden;
	}

	.lenis.lenis-smooth iframe {
	pointer-events: none;
	}
</style>

<script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/intersection-observer@0.12.2/intersection-observer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" integrity="sha512-onMTRKJBKz8M1TnqqDuGBlowlH0ohFzMXYRNebz+yOcc5TQr/zAKsthzhuv0hiyUKEiQEQXEynnXCvNTOk50dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
	document.addEventListener("DOMContentLoaded", function () {
		const lenis = new Lenis();
		lenis.on("scroll", ScrollTrigger.update);

		gsap.ticker.add((time) => {
			lenis.raf(time * 1000);
		})

		gsap.ticker.lagSmoothing(0);
	})
</script>
