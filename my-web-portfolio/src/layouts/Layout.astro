---
import Image from 'astro/components/Image.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Head from './Head.astro';

// Images
import lineTopRight from '../../public/line_topright.svg';
import lineCenter1 from '../../public/line_center1.svg';
import lineCenter2 from '../../public/line_center2.svg';
import lineMiddleLeft from '../../public/line_middle_left.svg';
import lineMiddleRight from '../../public/line_middle_right.svg';
import lineBottom1 from '../../public/line_bottom1.svg';

interface Props {
	title: string;
}

const { title } = Astro.props;

const navLinks = ["", "Projects", "About"];
const footerLinks = [...navLinks, "Contact"];
---

<!doctype html>
<html lang="en">
	<Head {title} />
	<body>
		<div class="px-8 lg:px-16">
			<Navbar links={navLinks}/>
		</div>
		<slot />
		<Footer links={footerLinks}/>	
	</body>
</html>

<style is:global>
	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Thin.woff2') format('woff2');
		font-weight: 100;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-ExtraLight.woff2') format('woff2');
		font-weight: 200;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Light.woff2') format('woff2');
		font-weight: 300;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Regular.woff2') format('woff2');
		font-weight: 400;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Medium.woff2') format('woff2');
		font-weight: 500;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-SemiBold.woff2') format('woff2');
		font-weight: 600;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Bold.woff2') format('woff2');
		font-weight: 700;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-ExtraBold.woff2') format('woff2');
		font-weight: 800;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'Poppins';
		src: url('/fonts/poppins/Poppins-Black.woff2') format('woff2');
		font-weight: 900;
		font-style: normal;
		font-display: swap;
	}

	:root {
		--light-blue: 59, 148, 255;
		--light-blue-navbar: 100, 170, 255;
		--very-light-blue: 158, 181, 210;

		--very-dark-blue: 0, 12, 26;
		--very-dark-blue-light: 0, 23, 51;
		--very-dark-blue-lightest: 0, 28, 61;

		--bg-blue-gradient: linear-gradient(
			180deg,
			rgb(var(--very-dark-blue)) 0%,
			rgb(var(--very-dark-blue)) 12%,
			rgb(var(--very-dark-blue-light)) 50%,
			rgb(var(--very-dark-blue-lightest)) 100%
		);
	}
	
	*, *::before, *::after {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}
	html {
		font-family: system-ui, sans-serif;
	}
	body {
		width: 100%;
		max-width: 1400px;
		margin: 0 auto;
		min-height: 100vh;
		padding: 2.25em 0;
		position: relative;
		font: 400 1rem/1.5 "Poppins", sans-serif;
		color: hsl(180, 0%, 95%);
		/* background: rgb(var(--very-dark-blue)) var(--bg-blue-gradient); */
		background: hsl(214, 75%, 10%);
		overflow-x: hidden; 
	}

	/* lenis scroll */
	html.lenis, html.lenis body {
	height: auto;
	}

	.lenis.lenis-smooth {
	scroll-behavior: auto !important;
	}

	.lenis.lenis-smooth [data-lenis-prevent] {
	overscroll-behavior: contain;
	}

	.lenis.lenis-stopped {
	overflow: hidden;
	}

	.lenis.lenis-smooth iframe {
	pointer-events: none;
	}
</style>

<script src="https://cdn.jsdelivr.net/npm/intersection-observer@0.12.2/intersection-observer.min.js"></script>
<script>
	import Lenis from 'lenis';
	import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
	gsap.registerPlugin(ScrollTrigger);

	document.addEventListener("DOMContentLoaded", function () {
		const lenis = new Lenis();
		lenis.on("scroll", ScrollTrigger.update);

		gsap.ticker.add((time) => {
			lenis.raf(time * 1000);
		})

		gsap.ticker.lagSmoothing(0);
	});
</script>
